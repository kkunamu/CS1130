<!DOCTYPE html>
<html>
<body>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pawsome income tax</title>
    <link rel="stylesheet" href="taxcalcstyles.css">
    <link rel="icon" href="icon.png" type="image/x-icon">
    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
</head>
<div class="content-container">
    <div class="topnav">
     <img src="blob.png" id="homeblob">
      <div class="topnav-left">
        <a href="index.html" class="loading-link">homepage</a>
        <a href="conversions.html" class="loading-link">conversions</a>
      </div>
      <div class="topnav-right">
        <a href="operations.html" class="loading-link">looping</a>
        <a href="payroll.html" class="loading-link">payroll</a>
      </div>
    </div> 
</div>
<div class="incometax-container">
    <div class="upperbox-container">
        <h1 class="title">Income Tax Calculator</h1>
    </div>
    <div class="lowerbox-container">
        <input type="number" id="income" placeholder="Enter Your Income">
        <input readonly type="number" id="incometax" placeholder="Income Tax">
        <a href="index.html">
            <img src="paw.png" alt="Paw Image" class="paw">
        </a>
    </div>
</div>
<div id="loadingOverlay">
    <img src="loading.gif" alt="Loading Spinner">
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
    var incomeInput = document.getElementById("income");
    
    // Use keyup event on the income input
    incomeInput.addEventListener('keyup', function () {
        calculateIncomeTax();
    });

    function calculateIncomeTax() {
        var t = parseFloat(incomeInput.value);
        var incometax = 0;

        if (t < 250000) {
            incometax = 0;
        } else if (t >= 250000 && t < 400000) {
            incometax = (t - 250000) * 0.20;
        } else if (t >= 400000 && t < 800000) {
            incometax = (t - 400000) * 0.25 + 30000;
        } else if (t >= 800000 && t < 2000000) {
            incometax = (t - 800000) * 0.30 + 130000;
        } else if (t >= 2000000 && t < 8000000) {
            incometax = (t - 2000000) * 0.32 + 490000;
        } else {
            incometax = (t - 8000000) * 0.35 + 2410000;
        }

        document.getElementById("incometax").value = incometax.toFixed(2);
    }

    function toggleTopNav() {
        const topNavLeft = document.querySelector('.topnav-left');
        const topNavRight = document.querySelector('.topnav-right');

        topNavLeft.classList.toggle('show');
        topNavRight.classList.toggle('show');
    }

    document.getElementById('homeblob').addEventListener('click', function () {
        toggleTopNav();
    });
});

document.addEventListener('DOMContentLoaded', function () {
    var links = document.querySelectorAll('a');
    var loadingOverlay = document.getElementById('loadingOverlay');

    links.forEach(function (link) {
        link.addEventListener('click', function (event) {
            event.preventDefault();

                    // Show loading overlay
            loadingOverlay.style.display = 'flex';

            var href = this.getAttribute('href');

                    // Redirect to the new webpage after a delay (adjust the delay as needed)
            setTimeout(function () {
                window.location.href = href;
            }, 1000); // Adjust the delay as needed
        });
    });
});
</script>
</body>
</html>
